<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script>
    $(document).ready(function(){
        var caption_loc = "https://jmhessel.com/projects/new_yorker_annotation/example_annotations/";
        var caption_orig = caption_loc + "0.html";
        $('#content').load(caption_orig);
        $('#caption_link').attr("href", caption_orig);


        $('#nextannot').click(function() {
            var c = parseInt($('#currid').val());
            goNextPrev(caption_loc,'next', c);
        });

        $('#prevannot').click(function() {
            var c = parseInt($('#currid').val());
            goNextPrev(caption_loc,'prev', c);
        });

        $('#currid').on('keypress', function (e) {
             if(e.which === 13){
                var c = parseInt($('#currid').val());

                if (c > 542) { c = 542; }
                goto(caption_loc, c);
             }
        });
    });

    function goNextPrev(caption_loc, t, c) {
        if (t == 'prev') {
            if (c == 0) {
                var currid = 542;
            } else {
                var currid = c - 1;
            }
        } else {
            if (c == 542) {
                var currid = 0;
            } else {
                var currid = c + 1;
            }
        }

        goto(caption_loc, currid);

    }

    function goto(caption_loc, currid) {
        var caption_new = caption_loc + currid.toString() + ".html";
        $('#content').load(caption_new);
        $('#caption_link').attr("href", caption_new);
        $('#currid').val(currid);
        return false;

    }

    </script>
    <style>
        div.sticky-top {
          position: -webkit-sticky; /* Safari */
          position: sticky;
          top: 0;
        }

    </style>
</head>
<body>
<div id="hit" class="container">

    <div class="sticky-top">
        <input type="button" id="prevannot" value="PREV">
        <input id="currid" name="current_id" type="number" value="0">
        <input type="button" id="nextannot" value="NEXT">
        <a id="caption_link">See Original</a>
    </div>
    <div id="content" class="row-12">
    </div>
</div>

</body>
</html>
